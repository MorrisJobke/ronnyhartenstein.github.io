<!DOCTYPE html>
<html lang="de-DE">
<head>
<meta charset="UTF-8" />
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<title>DKIM, PTR, SPF? Replacing your MTA with MSMTP (+PHP, +System, +Apache) &bull; alles im fluss...</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://blog.rh-flow.de/xmlrpc.php" />
<!--[if lt IE 10]>
<script src="http://blog.rh-flow.de/wp-content/themes/displace/js/html5.js"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="alles im fluss... &raquo; Feed" href="http://blog.rh-flow.de/feed/" />
<link rel="alternate" type="application/rss+xml" title="alles im fluss... &raquo; Kommentar-Feed" href="http://blog.rh-flow.de/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="alles im fluss... &raquo; DKIM, PTR, SPF? Replacing your MTA with MSMTP (+PHP, +System, +Apache) Kommentar-Feed" href="http://blog.rh-flow.de/2015/11/10/dkim-ptr-spf-replacing-your-mta-with-msmtp-php-system-apache/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/blog.rh-flow.de\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.3.1"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wp-pagenavi-css'  href='http://blog.rh-flow.de/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='http://blog.rh-flow.de/wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='roboto-slab-css'  href='//fonts.googleapis.com/css?family=Roboto+Slab:400,700,300&#038;subset=latin,cyrillic' type='text/css' media='all' />
<link rel='stylesheet' id='displace-style-css'  href='http://blog.rh-flow.de/wp-content/themes/displace/style.css?ver=4.3.1' type='text/css' media='all' />
<link rel='stylesheet' id='wp-markdown-prettify-css'  href='http://blog.rh-flow.de/wp-content/plugins/wp-markdown/css/prettify.css?ver=1.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='http://blog.rh-flow.de/wp-content/plugins/jetpack/css/jetpack.css?ver=3.8.1' type='text/css' media='all' />
<script type='text/javascript' src='http://blog.rh-flow.de/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='http://blog.rh-flow.de/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://blog.rh-flow.de/wp-content/plugins/wp-markdown/js/prettify.min.js?ver=1.5.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.rh-flow.de/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.rh-flow.de/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Benchmark Helloworld in different frameworks #myelixirstatus [Update #2]' href='http://blog.rh-flow.de/2015/10/08/benchmark-helloworld-in-different-frameworks-myelixirstatus/' />
<meta name="generator" content="WordPress 4.3.1" />
<link rel='canonical' href='http://blog.rh-flow.de/2015/11/10/dkim-ptr-spf-replacing-your-mta-with-msmtp-php-system-apache/' />
<link rel='shortlink' href='http://blog.rh-flow.de/?p=764' />
<script src='http://wp-root.rh-flow.de/?dm=6e8798aa435e985a44fe89a2beb060e0&amp;action=load&amp;blogid=5&amp;siteid=1&amp;t=950407940&amp;back=http%3A%2F%2Fblog.rh-flow.de%2F2015%2F11%2F10%2Fdkim-ptr-spf-replacing-your-mta-with-msmtp-php-system-apache%2F' type='text/javascript'></script><style type='text/css'>img#wpstats{display:none}</style>
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="DKIM, PTR, SPF? Replacing your MTA with MSMTP (+PHP, +System, +Apache)" />
<meta property="og:url" content="http://blog.rh-flow.de/2015/11/10/dkim-ptr-spf-replacing-your-mta-with-msmtp-php-system-apache/" />
<meta property="og:description" content="Fuck you fuckin spammer! Because of the arms race it started that getting those message some days ago: Undelivered Mail Returned to Sender gmail-smtp-in.l.google.com[2a00:1450:4013:c00::1a] said: 5â€¦" />
<meta property="article:published_time" content="2015-11-09T22:24:37+00:00" />
<meta property="article:modified_time" content="2015-11-16T08:57:53+00:00" />
<meta property="og:site_name" content="alles im fluss..." />
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg" />
<meta property="og:locale" content="de_DE" />
<meta name="twitter:site" content="@rhflow_de" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@rhflow_de" />

<!-- BEGIN GADWP v4.8.3 Universal Tracking - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-9997344-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- END GADWP Universal Tracking -->

</head>
<body class="single single-post postid-764 single-format-standard group-blog comment-avatars dark">
<div id="page" class="hfeed site">
		<header id="masthead" class="site-header" role="banner">
					<div>
									<h1 class="site-title"><a href="http://blog.rh-flow.de/" title="alles im fluss&#8230;" rel="home">alles im fluss&#8230;</a></h1>
									<h2 class="site-description">bleibt neugierig!</h2>
							</div>
			</header><!-- #masthead .site-header -->

	<main id="content" class="site-content" role="main">

	
		
<article id="post-764" class="post-764 post type-post status-publish format-standard hentry category-allgemein post-bright">
	<header class="entry-header">
						<h1 class="entry-title">DKIM, PTR, SPF? Replacing your MTA with MSMTP (+PHP, +System, +Apache)</h1>
				</header><!-- .entry-header -->

		<div class="entry-content">
		<p>Fuck you fuckin spammer! Because of the arms race it started that getting those message some days ago:</p>
<blockquote>
<p>Undelivered Mail Returned to Sender</p>
<p>gmail-smtp-in.l.google.com[2a00:1450:4013:c00::1a] said: 550-5.7.1 [2a01:488:66:1000:5bfa:7407:0:1] Our system has detected that this 550-5.7.1 message does not meet IPv6 sending guidelines regarding PTR records 550-5.7.1 and authentication. Please review 550-5.7.1 https://support.google.com/mail/?p=ipv6_authentication_error for more 550 5.7.1 information. m131si2394453wmb.65 &#8211; gsmtp (in reply to end of DATA command)</p>
</blockquote>
<p><strong>TL;DR</strong> MSMTP is a beyond edge of plate tip when I ran into the DKIM issue. Nothing what follows is really new or surprising.</p>
<p><span id="more-764"></span></p>
<p>You can have a look at the <a href="https://support.google.com/mail/?p=ipv6_authentication_error">Google Support page</a> and this helpfull <a href="http://serverfault.com/questions/532298/why-is-google-rejecting-mails-forwarded-from-my-postfix-server">Serverfault</a> answer.</p>
<p>Well, it seems that its nowadays finally necessary, to have DKIM, SPF and other fancy stuff alive to just send emails from you goddamned own server. I run Ubuntu 14.04 with Plesk and found <a href="http://blog.matoski.com/articles/spf-dk-dkim-plesk-debian/">this</a> and <a href="https://www.exratione.com/2014/07/setting-up-spf-and-dkim-for-an-ubuntu-1404-mail-server/">this</a> easy going tutorials. Well, I made some bad experience with MTAs and the other parts of the mail chain. So I really guess it won&#8217;t be easy. And maybe it wouldn&#8217;t be the final step but an ongoing process of an never ending arms race.</p>
<h2>So is there a plan B?</h2>
<p>After a little bit of chat (well, mostly complaining) @MorrisJbk told me about <a href="https://wiki.archlinux.org/index.php/Msmtp">msmtp</a>. With this tiny little tool an external provider could be used as the system MTA. Its transparent and also PHP could use it. That&#8217;s it!</p>
<p>Here is what I did to ship it.</p>
<h2>Installing Msmtp and inital configuration</h2>
<p>I followed the <a href="https://wiki.archlinux.org/index.php/Msmtp">Archlinux msmtp Guide</a></p>
<pre><code>apt-get install msmtp
</code></pre>
<p>Create a separate Google Account. You probably don&#8217;t want to use your main private account when your server went to a zombie spammer robot.</p>
<p>Configure the new credentials in <code>/etc/msmtp</code></p>
<pre><code># Defauls for all accounts
defaults
auth           on
tls            on
tls_trust_file /etc/ssl/certs/ca-certificates.crt
logfile        /var/log/mail.msmtp.log

# Gmail
account        gmail
host           smtp.gmail.com
port           587
from           your.mailer@gmail.com
user           your.mailer
password       [secret but plain!]

# Set a default account
account default : gmail
</code></pre>
<p>It&#8217;s also possible to use GPG instead of the plain password. Have a look at the Guide for that.</p>
<p>Next: Activate &#8222;Allow access from less secure apps&#8220; in <a href="https://www.google.com/settings/security/lesssecureapps">Google&#8217;s Security Settings</a>.</p>
<p>Add this to your <code>/etc/mail.rc</code> to have a transparent sendmail integration for CLI.</p>
<pre><code>set sendmail=/usr/bin/msmtp
</code></pre>
<p>Now you can try sending a test email via command line:</p>
<pre><code>mail -s "test subject" your@email.tld &lt;&lt;&lt; "test message"
</code></pre>
<h2>Enable MSMTP for PHP</h2>
<p>I found <a href="https://www.digitalocean.com/community/tutorials/how-to-use-gmail-or-yahoo-with-php-mail-function">this tutorial</a> which describes it in detail.</p>
<p>First duplicate the msmtp config with Apache access right</p>
<pre><code>cp /etc/msmtp /etc/msmtp_php
chown www-data:www-data /etc/msmtp_php
chmod 600 /etc/msmtp_php
</code></pre>
<p>Then start a separate logfile with appropriate Apache rights.</p>
<pre><code>touch /var/log/mail.msmtp_php.log
chown www-data:www-data /var/log/mail.msmtp_php.log
</code></pre>
<p>Then activate it in <code>php.ini</code>:</p>
<pre><code>sendmail_path = "/usr/bin/msmtp -C /etc/msmtp_php --logfile /var/log/mail.msmtp_php.log -a gmail -t"
</code></pre>
<p>Finally restart your Apache.</p>
<p>VoilÃ¡! There u go!</p>
<p>Why I write this post? First because I can. Second because I hate people who make other people more work than necessary!</p>
	</div><!-- .entry-content -->
	
	<footer class="entry-meta">
		<div class="comments-link icon icon-comment"><a href="http://blog.rh-flow.de/2015/11/10/dkim-ptr-spf-replacing-your-mta-with-msmtp-php-system-apache/#respond" title="Comment on DKIM, PTR, SPF? Replacing your MTA with MSMTP (+PHP, +System, +Apache)">Leave a comment</a></div><div class="posted-on icon icon-month">Posted on <a href="http://blog.rh-flow.de/2015/11/10/dkim-ptr-spf-replacing-your-mta-with-msmtp-php-system-apache/" title="Permalink to DKIM, PTR, SPF? Replacing your MTA with MSMTP (+PHP, +System, +Apache)" rel="bookmark"><time class="entry-date" datetime="2015-11-10T00:24:37+00:00">10. November 2015</time></a></div><div class="byline icon icon-user">By <span class="author vcard"><a class="url fn n" href="http://blog.rh-flow.de/author/admin/" title="View all posts by admin" rel="author">admin</a></span></div><div class="cat-links icon icon-category"><ul class="post-categories"><li><a rel="category tag" href="http://blog.rh-flow.de/category/allgemein/" title="View all posts in Allgemein" >Allgemein</a></li></ul></div>	</footer><!-- .entry-meta -->
</article><!-- #post-764 -->

			<nav role="navigation" id="nav-below" class="site-navigation post-navigation">
		<h1 class="assistive-text">Post navigation</h1>


	
		<div class="nav-previous"><a href="http://blog.rh-flow.de/2015/10/08/benchmark-helloworld-in-different-frameworks-myelixirstatus/" rel="prev"><span class="meta-nav">&larr;</span> Benchmark Helloworld in different frameworks #myelixirstatus [Update #2]</a></div>
	
	</nav><!-- #nav-below -->
	
			
	<!-- Here we load disqus comments -->
	<div class="dcl-disqus-thread" id="comments" >
	<div id="disqus_thread">
		</div>
	</div>
	
		
			<script type="text/javascript">
	/* <![CDATA[ */
		var disqus_url = 'http://blog.rh-flow.de/2015/11/10/dkim-ptr-spf-replacing-your-mta-with-msmtp-php-system-apache/';
		var disqus_identifier = '764 http://blog.rh-flow.de/?p=764';
		var disqus_container_id = 'disqus_thread';
		var disqus_domain = 'disqus.com';
		var disqus_shortname = 'rhflow';
		var disqus_title = "DKIM, PTR, SPF? Replacing your MTA with MSMTP (+PHP, +System, +Apache)";
		var disqus_config = function () {
			var config = this; // Access to the config object
			config.language = '';

			/* Add the ability to add javascript callbacks */
			
			/*
			   All currently supported events:
				* preData â€” fires just before we request for initial data
				* preInit - fires after we get initial data but before we load any dependencies
				* onInit  - fires when all dependencies are resolved but before dtpl template is rendered
				* afterRender - fires when template is rendered but before we show it
				* onReady - everything is done
			 */

			config.callbacks.preData.push(function() {
				// clear out the container (its filled for SEO/legacy purposes)
				document.getElementById(disqus_container_id).innerHTML = '';
			});
						config.callbacks.onReady.push(function() {
				// sync comments in the background so we don't block the page
				var script = document.createElement('script');
				script.async = true;
				script.src = '?cf_action=sync_comments&post_id=764';

				var firstScript = document.getElementsByTagName( "script" )[0];
				firstScript.parentNode.insertBefore(script, firstScript);
			});
								};
	/* ]]> */
	</script>
	
		
	<script type="text/javascript">
	/* <![CDATA[ */
		var DsqLocal = {
			'trackbacks': [
				],
			'trackback_url': "http:\/\/blog.rh-flow.de\/2015\/11\/10\/dkim-ptr-spf-replacing-your-mta-with-msmtp-php-system-apache\/trackback\/"		};
	/* ]]> */
	</script>
			
	
	</main><!-- #content .site-content -->

<!-- SIDEBAR -->
		<aside id="sidebar" class="widget-area" role="complementary">
						<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="http://blog.rh-flow.de/">
				<label>
					<span class="screen-reader-text">Suche nach:</span>
					<input type="search" class="search-field" placeholder="Suche&#160;&hellip;" value="" name="s" title="Suche nach:" />
				</label>
				<input type="submit" class="search-submit" value="Suche" />
			</form></aside><aside id="text-4" class="widget widget_text">			<div class="textwidget"><a href="https://twitter.com/rhflow_de" title="Twitter"><img src="http://rhflow.wp-root.rh-flow.de/files/2015/03/twitter.png" width="50" height="50"></a> &nbsp;
<a href="https://www.facebook.com/ronny.hartenstein" title="Facebook"><img src="http://rhflow.wp-root.rh-flow.de/files/2015/03/facebook.png" width="50" height="50"></a> &nbsp;
<a href="https://plus.google.com/+RonnyHartenstein/posts" title="Google+"><img src="http://rhflow.wp-root.rh-flow.de/files/2015/03/googleplus.png" width="50" height="50"></a></div>
		</aside><aside id="categories-3" class="widget widget_categories"><h1 class="widget-title">Kategorien</h1>		<ul>
	<li class="cat-item cat-item-1"><a href="http://blog.rh-flow.de/category/allgemein/" >Allgemein</a> (13)
</li>
	<li class="cat-item cat-item-28"><a href="http://blog.rh-flow.de/category/devop/" >DevOp</a> (12)
<ul class='children'>
	<li class="cat-item cat-item-32"><a href="http://blog.rh-flow.de/category/devop/bower/" >Bower</a> (2)
</li>
	<li class="cat-item cat-item-29"><a href="http://blog.rh-flow.de/category/devop/docker/" >Docker</a> (2)
</li>
	<li class="cat-item cat-item-34"><a href="http://blog.rh-flow.de/category/devop/git/" >Git</a> (3)
</li>
	<li class="cat-item cat-item-31"><a href="http://blog.rh-flow.de/category/devop/grunt/" >Grunt</a> (3)
</li>
	<li class="cat-item cat-item-30"><a href="http://blog.rh-flow.de/category/devop/vagrant/" >Vagrant</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-12"><a href="http://blog.rh-flow.de/category/entwicklung/" >Entwicklung</a> (14)
<ul class='children'>
	<li class="cat-item cat-item-37"><a href="http://blog.rh-flow.de/category/entwicklung/elixir/" >Elixir</a> (2)
</li>
	<li class="cat-item cat-item-13"><a href="http://blog.rh-flow.de/category/entwicklung/javascript/" >Javascript</a> (2)
</li>
	<li class="cat-item cat-item-35"><a href="http://blog.rh-flow.de/category/entwicklung/opendata/" >OpenData</a> (1)
</li>
	<li class="cat-item cat-item-20"><a href="http://blog.rh-flow.de/category/entwicklung/oxid/" >OXID</a> (4)
</li>
	<li class="cat-item cat-item-15"><a href="http://blog.rh-flow.de/category/entwicklung/paradigmen-entwicklung/" >Paradigmen</a> (3)
</li>
	<li class="cat-item cat-item-42"><a href="http://blog.rh-flow.de/category/entwicklung/phoenix/" >Phoenix</a> (1)
</li>
	<li class="cat-item cat-item-27"><a href="http://blog.rh-flow.de/category/entwicklung/php-entwicklung/" >PHP</a> (5)
</li>
	<li class="cat-item cat-item-33"><a href="http://blog.rh-flow.de/category/entwicklung/sass/" >Sass</a> (2)
</li>
	<li class="cat-item cat-item-36"><a href="http://blog.rh-flow.de/category/entwicklung/tests/" >Tests</a> (1)
</li>
</ul>
</li>
	<li class="cat-item cat-item-3"><a href="http://blog.rh-flow.de/category/fotografie/" >Fotografie</a> (3)
<ul class='children'>
	<li class="cat-item cat-item-25"><a href="http://blog.rh-flow.de/category/fotografie/agility-fotografie/" >Agility Fotografie</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-5"><a href="http://blog.rh-flow.de/category/internetdienstleistungen/" >Internetdienstleistungen</a> (1)
<ul class='children'>
	<li class="cat-item cat-item-6"><a href="http://blog.rh-flow.de/category/internetdienstleistungen/php/" >PHP</a> (1)
</li>
</ul>
</li>
	<li class="cat-item cat-item-7"><a href="http://blog.rh-flow.de/category/ueberblick/" >Ãœberblick</a> (16)
<ul class='children'>
	<li class="cat-item cat-item-9"><a href="http://blog.rh-flow.de/category/ueberblick/agility/" >Agility Turniere</a> (16)
</li>
</ul>
</li>
		</ul>
</aside><aside id="text-5" class="widget widget_text">			<div class="textwidget">aller Text und Quellcode ist lizensiert unter <a href="https://creativecommons.org/licenses/by-sa/3.0/de/" target="_blank">CC BY-SA 3.0 DE</a></div>
		</aside><aside id="nav_menu-3" class="widget widget_nav_menu"><div class="menu-impressum-container"><ul id="menu-impressum" class="menu"><li id="menu-item-428" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-428"><a href="http://blog.rh-flow.de/impressum/">Impressum</a></li>
</ul></div></aside>		</aside><!-- #sidebar .widget-area -->
<!-- /SIDEBAR --><!-- FOOTER -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
			<a href="http://wordpress.org/" title="A Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress</a>
			<span class="sep"> &bull; </span>
			Displace theme by <a href="http://profiles.wordpress.org/awesome110/">Anton Kulakov</a>		</div><!-- .site-info -->
	</footer><!-- #colophon .site-footer -->
</div><!-- #page .hfeed .site -->

	<script type="text/javascript">

		(function(){

			var cookieBar = function() { cookieChoices.showCookieBar({ linkHref: '', dismissText: '', position: '', cookieText:'', linkText: '', language: 'de'}) };

			if(document.addEventListener) {
				document.addEventListener('DOMContentLoaded', cookieBar);
			}
			else {
				document.attachEvent('onreadystatechange', function(event) { 
		            if ( document.readyState === "complete" ) {
		            	cookieBar();
					}
				});
			}
		})();

	</script>
<script type='text/javascript' src='http://blog.rh-flow.de/wp-content/plugins/wf-cookie-consent/js/cookiechoices.js?ver=0.0.4'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201553'></script>
<script type='text/javascript' src='http://blog.rh-flow.de/wp-includes/js/comment-reply.min.js?ver=4.3.1'></script>
<script type='text/javascript' src='http://blog.rh-flow.de/wp-content/plugins/wp-markdown/js/markdown.min.js?ver=1.5.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"rhflow"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.rh-flow.de/wp-content/plugins/disqus-conditional-load/disqus-core/media/js/count.js?ver=4.3.1'></script>
<script  type="text/javascript">
					var disqus_shortname = "rhflow";
					if (typeof ds_loaded == "undefined") {
						var ds_loaded = false; //To track loading only once on a page.
					}
					function loadDisqus()
					{
						var disqus_div = jQuery("#disqus_thread"); //The ID of the Disqus DIV tag
						var top = disqus_div.offset().top;
						var disqus_data = disqus_div.data();
						if ( !ds_loaded && jQuery(window).scrollTop() + jQuery(window).height() > top ) 
						{
							ds_loaded = true;
							for (var key in disqus_data) 
							{
								if (key.substr(0,6) == "disqus") 
								{
									window["disqus_" + key.replace("disqus","").toLowerCase()] = disqus_data[key];
								}
							}
							var dsq = document.createElement("script");
							dsq.type = "text/javascript";
							dsq.async = true;
							dsq.src = "http://" + window.disqus_shortname + ".disqus.com/embed.js";
							jQuery("#dcl-hidden-div").html("Loading...");
							(document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
						}    
					}
					jQuery(function () 
					{
						var disqus_div = jQuery("#disqus_thread");
						if(document.body.scrollHeight < window.innerHeight){
							loadDisqus();
						}
						else if (disqus_div.size() > 0) 
						{
							jQuery(window).scroll(loadDisqus);      
						} 
					}
					);
					</script><script   type='text/javascript'>
					/* <![CDATA[ */
					var hash = window.location.hash;
					if(hash!==''){
					var ds_loaded = true;
					var dcl_loaded = 1;
					(function() {
						var dsq = document.createElement('script'); dsq.type = 'text/javascript';
						dsq.async = true;
						dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/' + 'embed' + '.js' + '?pname=wordpress&pver=2.84';
						(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
					})();}
					/* ]]> */
					</script><script type='text/javascript' src='http://stats.wp.com/e-201653.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:3.8.1',blog:'60962924',post:'764',tz:'2',srv:'blog.rh-flow.de'} ]);
	_stq.push([ 'clickTrackerInit', '60962924', '764' ]);
</script>

</body>
</html><!-- /FOOTER -->